import{g as he,r as R,o as ye,w as C,i as F,a as L,b as xe,c as p,d as Re,e as we,f as k,p as W,u as c,n as Z,h as be,B as Ee,j as T,k as P,l as H,v as J,t as Oe,m as K,q as _e,A as Pe,s as D}from"./index-2fe6f51e.js";function Q(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,e)}return r}function b(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Q(Object(r),!0).forEach(function(e){Ce(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ce(t,a,r){return a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function X(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(t).reduce((r,e)=>(a.includes(e)||(r[e]=c(t[e])),r),{})}function V(t){return typeof t=="function"}function je(t){return Re(t)||we(t)}function ae(t,a,r){let e=t;const s=a.split(".");for(let i=0;i<s.length;i++){if(!e[s[i]])return r;e=e[s[i]]}return e}function N(t,a,r){return p(()=>t.some(e=>ae(a,e,{[r]:!1})[r]))}function Y(t,a,r){return p(()=>t.reduce((e,s)=>{const i=ae(a,s,{[r]:!1})[r]||[];return e.concat(i)},[]))}function se(t,a,r,e){return t.call(e,c(a),c(r),e)}function oe(t){return t.$valid!==void 0?!t.$valid:!t}function Ve(t,a,r,e,s,i,g){let{$lazy:o,$rewardEarly:d}=s,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],v=arguments.length>8?arguments[8]:void 0,$=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const m=R(!!e.value),n=R(0);r.value=!1;const f=C([a,e].concat(l,h),()=>{if(o&&!e.value||d&&!$.value&&!r.value)return;let u;try{u=se(t,a,v,g)}catch(y){u=Promise.reject(y)}n.value++,r.value=!!n.value,m.value=!1,Promise.resolve(u).then(y=>{n.value--,r.value=!!n.value,i.value=y,m.value=oe(y)}).catch(y=>{n.value--,r.value=!!n.value,i.value=y,m.value=!0})},{immediate:!0,deep:typeof a=="object"});return{$invalid:m,$unwatch:f}}function Le(t,a,r,e,s,i,g,o){let{$lazy:d,$rewardEarly:l}=e;const v=()=>({}),$=p(()=>{if(d&&!r.value||l&&!o.value)return!1;let h=!0;try{const m=se(t,a,g,i);s.value=m,h=oe(m)}catch(m){s.value=m}return h});return{$unwatch:v,$invalid:$}}function Se(t,a,r,e,s,i,g,o,d,l,v){const $=R(!1),h=t.$params||{},m=R(null);let n,f;t.$async?{$invalid:n,$unwatch:f}=Ve(t.$validator,a,$,r,e,m,s,t.$watchTargets,d,l,v):{$invalid:n,$unwatch:f}=Le(t.$validator,a,r,e,m,s,d,l);const u=t.$message;return{$message:V(u)?p(()=>u(X({$pending:$,$invalid:n,$params:X(h),$model:a,$response:m,$validator:i,$propertyPath:o,$property:g}))):u||"",$params:h,$pending:$,$invalid:n,$response:m,$unwatch:f}}function Ae(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=c(t),r=Object.keys(a),e={},s={},i={};let g=null;return r.forEach(o=>{const d=a[o];switch(!0){case V(d.$validator):e[o]=d;break;case V(d):e[o]={$validator:d};break;case o==="$validationGroups":g=d;break;case o.startsWith("$"):i[o]=d;break;default:s[o]=d}}),{rules:e,nestedValidators:s,config:i,validationGroups:g}}const ze="__root";function Ie(t,a,r,e,s,i,g,o,d){const l=Object.keys(t),v=e.get(s,t),$=R(!1),h=R(!1),m=R(0);if(v){if(!v.$partial)return v;v.$unwatch(),$.value=v.$dirty.value}const n={$dirty:$,$path:s,$touch:()=>{$.value||($.value=!0)},$reset:()=>{$.value&&($.value=!1)},$commit:()=>{}};return l.length?(l.forEach(f=>{n[f]=Se(t[f],a,n.$dirty,i,g,f,r,s,d,h,m)}),n.$externalResults=p(()=>o.value?[].concat(o.value).map((f,u)=>({$propertyPath:s,$property:r,$validator:"$externalResults",$uid:`${s}-externalResult-${u}`,$message:f,$params:{},$response:null,$pending:!1})):[]),n.$invalid=p(()=>{const f=l.some(u=>c(n[u].$invalid));return h.value=f,!!n.$externalResults.value.length||f}),n.$pending=p(()=>l.some(f=>c(n[f].$pending))),n.$error=p(()=>n.$dirty.value?n.$pending.value||n.$invalid.value:!1),n.$silentErrors=p(()=>l.filter(f=>c(n[f].$invalid)).map(f=>{const u=n[f];return L({$propertyPath:s,$property:r,$validator:f,$uid:`${s}-${f}`,$message:u.$message,$params:u.$params,$response:u.$response,$pending:u.$pending})}).concat(n.$externalResults.value)),n.$errors=p(()=>n.$dirty.value?n.$silentErrors.value:[]),n.$unwatch=()=>l.forEach(f=>{n[f].$unwatch()}),n.$commit=()=>{h.value=!0,m.value=Date.now()},e.set(s,t,n),n):(v&&e.set(s,t,n),n)}function Te(t,a,r,e,s,i,g){const o=Object.keys(t);return o.length?o.reduce((d,l)=>(d[l]=B({validations:t[l],state:a,key:l,parentKey:r,resultsCache:e,globalConfig:s,instance:i,externalResults:g}),d),{}):{}}function De(t,a,r){const e=p(()=>[a,r].filter(n=>n).reduce((n,f)=>n.concat(Object.values(c(f))),[])),s=p({get(){return t.$dirty.value||(e.value.length?e.value.every(n=>n.$dirty):!1)},set(n){t.$dirty.value=n}}),i=p(()=>{const n=c(t.$silentErrors)||[],f=e.value.filter(u=>(c(u).$silentErrors||[]).length).reduce((u,y)=>u.concat(...y.$silentErrors),[]);return n.concat(f)}),g=p(()=>{const n=c(t.$errors)||[],f=e.value.filter(u=>(c(u).$errors||[]).length).reduce((u,y)=>u.concat(...y.$errors),[]);return n.concat(f)}),o=p(()=>e.value.some(n=>n.$invalid)||c(t.$invalid)||!1),d=p(()=>e.value.some(n=>c(n.$pending))||c(t.$pending)||!1),l=p(()=>e.value.some(n=>n.$dirty)||e.value.some(n=>n.$anyDirty)||s.value),v=p(()=>s.value?d.value||o.value:!1),$=()=>{t.$touch(),e.value.forEach(n=>{n.$touch()})},h=()=>{t.$commit(),e.value.forEach(n=>{n.$commit()})},m=()=>{t.$reset(),e.value.forEach(n=>{n.$reset()})};return e.value.length&&e.value.every(n=>n.$dirty)&&$(),{$dirty:s,$errors:g,$invalid:o,$anyDirty:l,$error:v,$pending:d,$touch:$,$reset:m,$silentErrors:i,$commit:h}}function B(t){let{validations:a,state:r,key:e,parentKey:s,childResults:i,resultsCache:g,globalConfig:o={},instance:d,externalResults:l}=t;const v=s?`${s}.${e}`:e,{rules:$,nestedValidators:h,config:m,validationGroups:n}=Ae(a),f=b(b({},o),m),u=e?p(()=>{const x=c(r);return x?c(x[e]):void 0}):r,y=b({},c(l)||{}),q=p(()=>{const x=c(l);return e?x?c(x[e]):void 0:x}),G=Ie($,u,e,g,v,f,d,q,r),E=Te(h,u,v,g,f,d,q),M={};n&&Object.entries(n).forEach(x=>{let[O,w]=x;M[O]={$invalid:N(w,E,"$invalid"),$error:N(w,E,"$error"),$pending:N(w,E,"$pending"),$errors:Y(w,E,"$errors"),$silentErrors:Y(w,E,"$silentErrors")}});const{$dirty:S,$errors:ue,$invalid:A,$anyDirty:ce,$error:de,$pending:z,$touch:I,$reset:fe,$silentErrors:$e,$commit:U}=De(G,E,i),ve=e?p({get:()=>c(u),set:x=>{S.value=!0;const O=c(r),w=c(l);w&&(w[e]=y[e]),F(O[e])?O[e].value=x:O[e]=x}}):null;e&&f.$autoDirty&&C(u,()=>{S.value||I();const x=c(l);x&&(x[e]=y[e])},{flush:"sync"});async function me(){return I(),f.$rewardEarly&&(U(),await Z()),await Z(),new Promise(x=>{if(!z.value)return x(!A.value);const O=C(z,()=>{x(!A.value),O()})})}function ge(x){return(i.value||{})[x]}function pe(){F(l)?l.value=y:Object.keys(y).length===0?Object.keys(l).forEach(x=>{delete l[x]}):Object.assign(l,y)}return L(b(b(b({},G),{},{$model:ve,$dirty:S,$error:de,$errors:ue,$invalid:A,$anyDirty:ce,$pending:z,$touch:I,$reset:fe,$path:v||ze,$silentErrors:$e,$validate:me,$commit:U},i&&{$getResultsForChild:ge,$clearExternalResults:pe,$validationGroups:M}),E))}class Ne{constructor(){this.storage=new Map}set(a,r,e){this.storage.set(a,{rules:r,result:e})}checkRulesValidity(a,r,e){const s=Object.keys(e),i=Object.keys(r);return i.length!==s.length||!i.every(o=>s.includes(o))?!1:i.every(o=>r[o].$params?Object.keys(r[o].$params).every(d=>c(e[o].$params[d])===c(r[o].$params[d])):!0)}get(a,r){const e=this.storage.get(a);if(!e)return;const{rules:s,result:i}=e,g=this.checkRulesValidity(a,r,s),o=i.$unwatch?i.$unwatch:()=>({});return g?i:{$dirty:i.$dirty,$partial:!0,$unwatch:o}}}const j={COLLECT_ALL:!0,COLLECT_NONE:!1},ee=Symbol("vuelidate#injectChildResults"),te=Symbol("vuelidate#removeChildResults");function Fe(t){let{$scope:a,instance:r}=t;const e={},s=R([]),i=p(()=>s.value.reduce((v,$)=>(v[$]=c(e[$]),v),{}));function g(v,$){let{$registerAs:h,$scope:m,$stopPropagation:n}=$;n||a===j.COLLECT_NONE||m===j.COLLECT_NONE||a!==j.COLLECT_ALL&&a!==m||(e[h]=v,s.value.push(h))}r.__vuelidateInjectInstances=[].concat(r.__vuelidateInjectInstances||[],g);function o(v){s.value=s.value.filter($=>$!==v),delete e[v]}r.__vuelidateRemoveInstances=[].concat(r.__vuelidateRemoveInstances||[],o);const d=k(ee,[]);W(ee,r.__vuelidateInjectInstances);const l=k(te,[]);return W(te,r.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:d,removeValidationResultsFromParent:l}}function le(t){return new Proxy(t,{get(a,r){return typeof a[r]=="object"?le(a[r]):p(()=>a[r])}})}let re=0;function ke(t,a){var r;let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(e=t,t=void 0,a=void 0);let{$registerAs:s,$scope:i=j.COLLECT_ALL,$stopPropagation:g,$externalResults:o,currentVueInstance:d}=e;const l=d||((r=he())===null||r===void 0?void 0:r.proxy),v=l?l.$options:{};s||(re+=1,s=`_vuelidate_${re}`);const $=R({}),h=new Ne,{childResults:m,sendValidationResultsToParent:n,removeValidationResultsFromParent:f}=l?Fe({$scope:i,instance:l}):{childResults:R({})};if(!t&&v.validations){const u=v.validations;a=R({}),ye(()=>{a.value=l,C(()=>V(u)?u.call(a.value,new le(a.value)):u,y=>{$.value=B({validations:y,state:a,childResults:m,resultsCache:h,globalConfig:e,instance:l,externalResults:o||l.vuelidateExternalResults})},{immediate:!0})}),e=v.validationsConfig||e}else{const u=F(t)||je(t)?t:L(t||{});C(u,y=>{$.value=B({validations:y,state:a,childResults:m,resultsCache:h,globalConfig:e,instance:l??{},externalResults:o})},{immediate:!0})}return l&&(n.forEach(u=>u($,{$registerAs:s,$scope:i,$stopPropagation:g})),xe(()=>f.forEach(u=>u(s)))),p(()=>b(b({},c($.value)),m.value))}const ie=t=>{if(t=c(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let a in t)return!0;return!1}return!!String(t).length};function _(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=>(e=c(e),!ie(e)||a.every(s=>(s.lastIndex=0,s.test(e))))}_(/^[a-zA-Z]*$/);_(/^[a-zA-Z0-9]*$/);_(/^\d*(\.\d+)?$/);const Be=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var qe=_(Be),Ge={$validator:qe,$message:"Value is not a valid email address",$params:{type:"email"}};function Me(t){return typeof t=="string"&&(t=t.trim()),ie(t)}var ne={$validator:Me,$message:"Value is required",$params:{type:"required"}};const Ue=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;_(Ue);_(/(^[0-9]*$)|(^-[0-9]+$)/);_(/^[-]?\d*(\.\d+)?$/);const We={class:"flex justify-center"},Ze=["onSubmit"],He=P("label",{for:"email",class:"p-2 text-left"},"Email address",-1),Je={key:0,class:"mt-1 text-right text-red","data-id":"email-error-message"},Ke=P("label",{for:"password",class:"p-2 text-left"},"Password",-1),Qe={key:1,class:"mt-1 text-right text-red","data-id":"password-error-message"},Xe=P("button",{type:"submit",class:"bg-green mt-4 p-4 color-white font-medium uppercase"}," Log in ",-1),et=be({__name:"LoginPage",setup(t){const a=L({email:"",password:""}),e=ke({email:{required:ne,email:Ge},password:{required:ne}},a);Ee({title:"Login page"});const s=k(Pe.SERVICE_NAME),i=()=>{e.value.$touch(),!e.value.$invalid&&s.login()};return(g,o)=>(D(),T("div",We,[P("form",{class:"bg-white flex flex-col p-2 w-96 shadow-2xl",onSubmit:_e(i,["prevent"])},[He,H(P("input",{type:"email",class:"border-2 p-4","onUpdate:modelValue":o[0]||(o[0]=d=>a.email=d),onBlur:o[1]||(o[1]=(...d)=>c(e).email.$touch&&c(e).email.$touch(...d))},null,544),[[J,a.email]]),c(e).email.$dirty&&c(e).email.$errors.length>0?(D(),T("p",Je,Oe(c(e).email.$errors[0].$validator==="required"?"Please enter your e-mail address":"Please enter a valid e-mail address"),1)):K("",!0),Ke,H(P("input",{type:"password",class:"border-2 p-4","onUpdate:modelValue":o[2]||(o[2]=d=>c(e).password.$model=d)},null,512),[[J,c(e).password.$model]]),c(e).password.$dirty&&c(e).password.$errors.length>0?(D(),T("p",Qe," Please enter your password ")):K("",!0),Xe],40,Ze)]))}});export{et as default};
